# Файлы

Для создания файлов из контента используются системные диалоги, при вызове которых из контента они появляются поверх, закрывая все содержимое. В зависимости от типа диалога пользователь выбирает или создает видео, фото итд.

## Структура

Файлы расположены в объекте контекста `story.questProgressFiles`.

````json
{
    "<..>":"<..>",
    "questProgressFiles": {
        "items": {
            "0": {
                "name": "actions-demo.zip",
                "uri": "https://storage.blob.core.windows.net/a3683112-24061960-4e41-47d0/file1.zip",
                "size": 55442,
                "metadata": {
                    "hash": "1234",
                    "content_type": "application/zip",
                    "some_meta": "23123123"
                }
            },
            "<1..N>:{<..>}
        }
    }
}
````

Объект состоит из объектов:

* **items** - коллекция файлов
  * `name` - имя
  * `uri` - путь (src) к файлу
  * `size` - размер
  * `metadata` - метаданные. Коллекция пар {ключ: значение}

и методов (команд):

* **delete** - удаляет файл
* **setMetadata** - устанавливает метаданные файлы
* **removeMetadata** - удаляет метаданные файла
* **openVideoDialog** - открывает камеру для записи видео
* **openAudioDialog** - открывает диалог записи аудио
* **openPhotoDialog** - открывает камеру для фото
* **openFileDialog** - открывает диалог выбора файла
* **startRecordScreen** - начинает запись экрана
* **stopRecordScreen** - останавливает запись экрана
* **openBarDialog** - открывает камеру для считывания штрихкода
* **openQRDialog** - открывает камеру для считывания QR-кода

## Команды
